\level{1}{Dashboard}
    Nel documento \insdoc{Specifica Tecnica v5.00} è stato definito in modo generale quali sono i componenti di cui è composta la \insglo{Dashboard} e ne sono stati definiti in modo preciso i ruoli. In esso, inoltre, è stato descritto il modo in cui l'utilizzatore di \insglo{Norris} deve procedere per creare e rendere disponibile la \insglo{Dashboard}.\\
    I task che lo sviluppatore deve eseguire durante la creazione della \insglo{Dashboard} sono talvolta complessi, nel senso che alcuni di essi implicano operazioni ulteriori rispetto al semplice uso dell' \insglo{API} interne fornite da \insglo{Norris}. Si è dunque deciso di suddividere l'intera logica di creazione e aggiornamento dei grafici e della pagina che andranno a formare la \insglo{Dashboard} in diverse funzioni. È stato fatto questo perché in tale modo il codice è più modulare e comprensibile.
    \level{2}{Funzionalità}
        Nel presente paragrafo vengono presentate le parti nelle quali è stato suddiviso il codice necessario alla creazione e all'aggiornamento della \insglo{Dashboard}. Tali parti fanno riferimento ai task che sono stati presentati e descritti nel documento \insdoc{Specifica Tecnica v5.00}.\\
        All'appendice \nameref{app:aps} si possono trovare le specifiche con le quali vengono effettuate le richieste al \insglo{server} \insglo{APS}. In tale appendice è riportato anche il formato della risposta che si ottiene, oltre ai criteri per interpretarlo.

        \begin{itemize}

            \item \textbf{Inizializzazione di Norris} \\
            Innanzitutto è necessario creare ed inizializzare l'istanza di \insglo{Norris}. Richiamando gli opportuni metodi, nel webserver viene creata l'istanza vera e propria e ne vengono settate le impostazioni. Ne viene infine montato il \insglo{middleware} con express.
            
            \item \textbf{Inizializzazione della mappa} \\
            Si procede alla creazione ed inizializzazione di un \insglo{map chart} nell'istanza di \insglo{Norris}. Il chart non conterrà dati (che saranno inseriti in seguito, tramite aggiornamenti). Vengono inoltre impostate alcune opzioni di default. 
            
            \item \textbf{Inizializzazione del bar chart} \\
            Si procede alla creazione ed inizializzazione di un \insglo{bar chart} nell'istanza di \insglo{Norris}. Il chart non conterrà dati (che saranno inseriti in seguito, tramite aggiornamenti). Vengono inoltre impostate alcune opzioni di default.
                        
            \item \textbf{Inizializzazione della tabella} \\
            Si procede alla creazione ed inizializzazione di una \insglo{table} nell'istanza di \insglo{Norris}. Il chart viene inizializzato con dati riguardanti alcuni dei principali punti di interesse di Padova (Prato della Valle, Stazione FS, Ospedale Civile), che però sono impostati su “unknown”. Essi saranno correttamente aggiornati in un momento successivo, quando vengono ricevuti i dati dal \insglo{server} \insglo{APS}.
            
            \item \textbf{Creazione della pagina web} \\
            Una volta creati i grafici, si può procedere con la creazione ed inizializzazione di una pagina all'interno dell'istanza di \insglo{Norris}. I grafici vengono aggiunti alla pagina appena creata; vengono inoltre impostate alcune opzioni di default per la pagina.
            
            \item \textbf{Ottenere i dati degli autobus dell'APS} \\
            È ora necessario ottenere tutti i dati riguardanti le linee che il \insglo{server} \insglo{APS} mette a disposizione. Tali dati devono essere correttamente interpretati e convertiti prima di essere usati tramite le \insglo{API} di \insglo{Norris}. Il formato con il quale sono restituiti i dati da tale funzionedei dati provenienti dal sito dell'APS sono descritti nell'appendice \nameref{app:aps}.
            
            \item \textbf{Aggiornare la mappa} \\
            Per aggiornare il map chart si utilizza l'apposito metodo fornito dalle \insglo{API} di \insglo{Norris}, al quale vengono passati i dati nel formato corretto e il tipo di aggiornamento che si desidera effettuare. Scegliendo di aggiornare la mappa con il metodo movie, vengono aggiornate le posizioni di tutti i punti sulla mappa, vengono aggiunti eventuali nuovi punti e vengono tolti quelli non più presenti.
            
            \item \textbf{Aggiornare il bar chart} \\
            Per aggiornare il bar chart si utilizza l'apposito metodo fornito dalle \insglo{API} di \insglo{Norris}, al quale vengono passati il tipo di aggiornamento che si desidera effettuare e i dati nel formato corretto. In particolare, si deve calcolare quanti mezzi sono attivi per ciascuna linea. A partire poi dal risultato ottenuto viene creato il pacchetto di aggiornamento tramite il quale le \insglo{API} interne possono effettuare l'aggiornamento vero e proprio del grafico.
            
            \item \ignoreglo{\textbf{Aggiornare la tabella}} \\
            Per aggiornare il bar chart si utilizza l'apposito metodo fornito dalle \insglo{API} di \insglo{Norris}, al quale vengono passati il tipo di aggiornamento che si desidera effettuare e i dati nel formato corretto. In particolare, si deve calcolare qual è il mezzo più vicino ai vari punti di interesse e qual è il tempo di attesa medio. A partire poi dal risultato ottenuto viene creato il pacchetto di aggiornamento tramite il quale le \insglo{API} interne possono effettuare l'aggiornamento vero e proprio del grafico.

        \end{itemize}
